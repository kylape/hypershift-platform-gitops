apiVersion: v1
items:
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-secured-cluster-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: admission-control
      app.kubernetes.io/component: admission-control
      app.kubernetes.io/instance: stackrox-secured-cluster-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-secured-cluster-services
      app.kubernetes.io/version: 4.10.x-851-ge00b4bc697
      auto-upgrade.stackrox.io/component: sensor
      helm.sh/chart: stackrox-secured-cluster-services-400.10.0-851-ge00b4bc697
    name: admission-control
    namespace: stackrox
  spec:
    progressDeadlineSeconds: 600
    replicas: 3
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: admission-control
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-secured-cluster-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: restricted-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: "8443"
        labels:
          app: admission-control
          app.kubernetes.io/component: admission-control
          app.kubernetes.io/instance: stackrox-secured-cluster-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-secured-cluster-services
          app.kubernetes.io/version: 4.10.x-851-ge00b4bc697
          helm.sh/chart: stackrox-secured-cluster-services-400.10.0-851-ge00b4bc697
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: Exists
              weight: 50
          podAntiAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app: admission-control
                topologyKey: kubernetes.io/hostname
              weight: 60
        containers:
        - command:
          - admission-control
          env:
          - name: ROX_MEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: ROX_SENSOR_ENDPOINT
            value: sensor.stackrox.svc:443
          image: quay.io/rhacs-eng/main:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: admission-control
          ports:
          - containerPort: 8443
            name: webhook
            protocol: TCP
          readinessProbe:
            failureThreshold: 1
            httpGet:
              path: /ready
              port: 8443
              scheme: HTTPS
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 500Mi
            requests:
              cpu: 50m
              memory: 100Mi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /run/config/stackrox.io/admission-control/config/
            name: config
            readOnly: true
          - mountPath: /var/lib/stackrox/admission-control/
            name: config-store
          - mountPath: /run/secrets/stackrox.io/ca/
            name: ca
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/certs/
            name: certs
            readOnly: true
          - mountPath: /etc/ssl
            name: ssl
          - mountPath: /etc/pki/ca-trust/
            name: pki
          - mountPath: /usr/local/share/ca-certificates/
            name: additional-cas
            readOnly: true
          - mountPath: /etc/pki/injected-ca-trust/
            name: trusted-ca-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: admission-control
        serviceAccountName: admission-control
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: tls-cert-admission-control
        - name: ca
          secret:
            defaultMode: 420
            optional: true
            secretName: service-ca
        - configMap:
            defaultMode: 420
            name: admission-control
            optional: true
          name: config
        - emptyDir: {}
          name: config-store
        - emptyDir: {}
          name: ssl
        - emptyDir: {}
          name: pki
        - name: additional-cas
          secret:
            defaultMode: 420
            optional: true
            secretName: additional-ca-sensor
        - configMap:
            defaultMode: 420
            items:
            - key: ca-bundle.crt
              path: tls-ca-bundle.pem
            name: injected-cabundle-stackrox-secured-cluster-services
            optional: true
          name: trusted-ca-volume
  status:
    availableReplicas: 3
    conditions:
    - lastTransitionTime: "2026-01-21T19:17:17Z"
      lastUpdateTime: "2026-01-21T19:17:17Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:16:50Z"
      lastUpdateTime: "2026-01-21T19:17:17Z"
      message: ReplicaSet "admission-control-6676b568cf" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 3
    replicas: 3
    updatedReplicas: 3
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "2"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: central
      app.kubernetes.io/component: central
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: central
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: central
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: nonroot-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: "8443"
        labels:
          app: central
          app.kubernetes.io/component: central
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: cloud.google.com/gke-preemptible
                  operator: NotIn
                  values:
                  - "true"
              weight: 100
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
        containers:
        - command:
          - /stackrox/central-entrypoint.sh
          env:
          - name: ROX_MEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: GRPC_ENFORCE_ALPN_ENABLED
            value: "false"
          - name: ROX_TELEMETRY_ENDPOINT
            value: https://console.redhat.com/connections/api
          - name: ROX_TELEMETRY_API_WHITELIST
            value: /api/splunk/ta/*,/v1/auth/m2m/exchange,/api/cli/download/*
          - name: ROX_OFFLINE_MODE
            value: "false"
          - name: ROX_ENABLE_OPENSHIFT_AUTH
            value: "true"
          - name: ROX_OPENSHIFT
            value: "true"
          - name: ROX_ENABLE_SECURE_METRICS
            value: "true"
          - name: ROX_INSTALL_METHOD
            value: helm
          - name: ROX_SCANNER_V4
            value: "true"
          - name: ROX_VIRTUAL_MACHINES
            value: "true"
          image: quay.io/stackrox-io/main:4.9.2
          imagePullPolicy: IfNotPresent
          name: central
          ports:
          - containerPort: 8443
            name: api
            protocol: TCP
          - containerPort: 9091
            name: monitoring-tls
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v1/ping
              port: 8443
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "4"
              memory: 8Gi
            requests:
              cpu: 1500m
              memory: 4Gi
          securityContext:
            capabilities:
              drop:
              - NET_RAW
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/log/stackrox/
            name: varlog
          - mountPath: /tmp
            name: central-tmp-volume
          - mountPath: /etc/ssl
            name: central-etc-ssl-volume
          - mountPath: /etc/pki/ca-trust
            name: central-etc-pki-volume
          - mountPath: /run/secrets/stackrox.io/certs/
            name: central-certs-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/default-tls-cert/
            name: central-default-tls-cert-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/htpasswd/
            name: central-htpasswd-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/jwt/
            name: central-jwt-volume
            readOnly: true
          - mountPath: /usr/local/share/ca-certificates/
            name: additional-ca-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/central-license/
            name: central-license-volume
            readOnly: true
          - mountPath: /etc/stackrox
            name: central-config-volume
          - mountPath: /run/secrets/stackrox.io/proxy-config/
            name: proxy-config-volume
            readOnly: true
          - mountPath: /etc/stackrox.d/endpoints/
            name: endpoints-config-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/db-password
            name: central-db-password
          - mountPath: /etc/ext-db
            name: central-external-db-volume
          - mountPath: /var/run/secrets/openshift/serviceaccount
            name: central-bound-sa-token
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/monitoring-tls
            name: monitoring-tls
            readOnly: true
          - mountPath: /etc/pki/injected-ca-trust/
            name: trusted-ca-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 4000
          runAsUser: 4000
        serviceAccount: central
        serviceAccountName: central
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: varlog
        - emptyDir: {}
          name: central-tmp-volume
        - emptyDir: {}
          name: central-etc-ssl-volume
        - emptyDir: {}
          name: central-etc-pki-volume
        - name: central-certs-volume
          secret:
            defaultMode: 420
            secretName: central-tls
        - name: central-default-tls-cert-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: central-default-tls-cert
        - name: central-htpasswd-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: central-htpasswd
        - name: central-jwt-volume
          secret:
            defaultMode: 420
            items:
            - key: jwt-key.pem
              path: jwt-key.pem
            secretName: central-tls
        - name: additional-ca-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: additional-ca
        - name: central-license-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: central-license
        - configMap:
            defaultMode: 420
            name: central-config
            optional: true
          name: central-config-volume
        - name: proxy-config-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: proxy-config
        - configMap:
            defaultMode: 420
            name: central-endpoints
          name: endpoints-config-volume
        - name: central-db-password
          secret:
            defaultMode: 420
            secretName: central-db-password
        - configMap:
            defaultMode: 420
            name: central-external-db
            optional: true
          name: central-external-db-volume
        - name: central-bound-sa-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: openshift
                expirationSeconds: 3600
                path: token
        - name: monitoring-tls
          secret:
            defaultMode: 420
            secretName: central-monitoring-tls
        - configMap:
            defaultMode: 420
            items:
            - key: ca-bundle.crt
              path: tls-ca-bundle.pem
            name: injected-cabundle-stackrox-central-services
            optional: true
          name: trusted-ca-volume
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2026-01-21T19:20:25Z"
      lastUpdateTime: "2026-01-21T19:20:25Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:49Z"
      lastUpdateTime: "2026-01-21T19:20:25Z"
      message: ReplicaSet "central-54779fc86c" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 2
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: central-db
      app.kubernetes.io/component: central
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: central-db
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: central-db
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: nonroot-v2
          owner: stackrox
        labels:
          app: central-db
          app.kubernetes.io/component: central
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: cloud.google.com/gke-preemptible
                  operator: NotIn
                  values:
                  - "true"
              weight: 100
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
        containers:
        - env:
          - name: POSTGRES_HOST_AUTH_METHOD
            value: password
          - name: PGDATA
            value: /var/lib/postgresql/data/pgdata
          image: quay.io/rhacs-eng/central-db:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: central-db
          ports:
          - containerPort: 5432
            name: postgresql
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -c
              - -e
              - |
                exec pg_isready -U "postgres" -h 127.0.0.1 -p 5432
            failureThreshold: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "8"
              memory: 16Gi
            requests:
              cpu: "4"
              memory: 8Gi
          securityContext:
            runAsGroup: 70
            runAsUser: 70
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/stackrox.d/config/
            name: config-volume
          - mountPath: /var/lib/postgresql/data
            name: disk
          - mountPath: /run/secrets/stackrox.io/certs
            name: central-db-tls-volume
          - mountPath: /dev/shm
            name: shared-memory
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - init-entrypoint.sh
          env:
          - name: PGDATA
            value: /var/lib/postgresql/data/pgdata
          image: quay.io/rhacs-eng/central-db:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: init-db
          resources:
            limits:
              cpu: "8"
              memory: 16Gi
            requests:
              cpu: "4"
              memory: 8Gi
          securityContext:
            runAsGroup: 70
            runAsUser: 70
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/postgresql/data
            name: disk
          - mountPath: /run/secrets/stackrox.io/secrets
            name: central-db-password
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 70
        serviceAccount: central-db
        serviceAccountName: central-db
        terminationGracePeriodSeconds: 120
        volumes:
        - name: disk
          persistentVolumeClaim:
            claimName: central-db
        - configMap:
            defaultMode: 420
            name: central-db-config
          name: config-volume
        - name: central-db-password
          secret:
            defaultMode: 420
            secretName: central-db-password
        - name: central-db-tls-volume
          secret:
            defaultMode: 416
            items:
            - key: cert.pem
              path: server.crt
            - key: key.pem
              path: server.key
            - key: ca.pem
              path: root.crt
            secretName: central-db-tls
        - emptyDir:
            medium: Memory
            sizeLimit: 2Gi
          name: shared-memory
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2026-01-21T19:05:22Z"
      lastUpdateTime: "2026-01-21T19:05:22Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:49Z"
      lastUpdateTime: "2026-01-21T19:05:22Z"
      message: ReplicaSet "central-db-85f9b44bb8" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: config-controller
      app.kubernetes.io/component: config-controller
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: config-controller
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: config-controller
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          owner: stackrox
        labels:
          app: config-controller
          app.kubernetes.io/component: config-controller
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: cloud.google.com/gke-preemptible
                  operator: NotIn
                  values:
                  - "true"
              weight: 100
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
        containers:
        - args:
          - --health-probe-bind-address=:8081
          command:
          - /stackrox/bin/config-controller
          env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          image: quay.io/stackrox-io/main:4.9.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 50
            httpGet:
              path: /healthz
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 20
            successThreshold: 1
            timeoutSeconds: 1
          name: manager
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /readyz
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 64Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /run/secrets/stackrox.io/certs/
            name: central-certs-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: config-controller
        serviceAccountName: config-controller
        terminationGracePeriodSeconds: 10
        volumes:
        - name: central-certs-volume
          secret:
            defaultMode: 420
            items:
            - key: ca.pem
              path: ca.pem
            secretName: central-tls
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2026-01-21T19:05:54Z"
      lastUpdateTime: "2026-01-21T19:05:54Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:49Z"
      lastUpdateTime: "2026-01-21T19:05:54Z"
      message: ReplicaSet "config-controller-7ff684684c" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: scanner-v4-db
      app.kubernetes.io/component: scanner-v4
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: scanner-v4-db
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: scanner-v4-db
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: nonroot-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: "5432"
        labels:
          app: scanner-v4-db
          app.kubernetes.io/component: scanner-v4
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: cloud.google.com/gke-preemptible
                  operator: NotIn
                  values:
                  - "true"
              weight: 100
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
        containers:
        - env:
          - name: PGDATA
            value: /var/lib/postgresql/data/pgdata
          - name: POSTGRES_HOST_AUTH_METHOD
            value: scram-sha-256
          image: quay.io/rhacs-eng/scanner-v4-db:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: db
          ports:
          - containerPort: 5432
            name: tcp-postgresql
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -c
              - -e
              - |
                exec pg_isready -U "postgres" -h 127.0.0.1 -p 5432
            failureThreshold: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "4"
              memory: 8Gi
            requests:
              cpu: "1"
              memory: 4Gi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/postgresql/data
            name: disk
          - mountPath: /etc/stackrox.d/config/
            name: config-volume
          - mountPath: /run/secrets/stackrox.io/certs
            name: certs
          - mountPath: /dev/shm
            name: shared-memory
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - init-entrypoint.sh
          env:
          - name: PGDATA
            value: /var/lib/postgresql/data/pgdata
          - name: POSTGRES_HOST_AUTH_METHOD
            value: scram-sha-256
          - name: POSTGRES_PASSWORD_FILE
            value: /run/secrets/stackrox.io/secrets/password
          - name: SCANNER_DB_INIT_BUNDLE_ENABLED
            value: "true"
          image: quay.io/rhacs-eng/scanner-v4-db:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: init-db
          resources:
            limits:
              cpu: "4"
              memory: 8Gi
            requests:
              cpu: "1"
              memory: 4Gi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/postgresql/data
            name: disk
          - mountPath: /run/secrets/stackrox.io/secrets
            name: scanner-v4-db-password
            readOnly: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 70
          runAsGroup: 70
          runAsNonRoot: true
          runAsUser: 70
        serviceAccount: scanner-v4
        serviceAccountName: scanner-v4
        terminationGracePeriodSeconds: 120
        volumes:
        - name: disk
          persistentVolumeClaim:
            claimName: scanner-v4-db
        - configMap:
            defaultMode: 420
            name: scanner-v4-db-config
          name: config-volume
        - name: certs
          secret:
            defaultMode: 416
            items:
            - key: cert.pem
              path: server.crt
            - key: key.pem
              path: server.key
            - key: ca.pem
              path: root.crt
            secretName: scanner-v4-db-tls
        - emptyDir:
            medium: Memory
            sizeLimit: 750Mi
          name: shared-memory
        - name: scanner-v4-db-password
          secret:
            defaultMode: 420
            secretName: scanner-v4-db-password
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2026-01-21T19:05:19Z"
      lastUpdateTime: "2026-01-21T19:05:19Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:48Z"
      lastUpdateTime: "2026-01-21T19:05:19Z"
      message: ReplicaSet "scanner-v4-db-797d76bfc5" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: scanner-v4-indexer
      app.kubernetes.io/component: scanner-v4
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: scanner-v4-indexer
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 2
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: scanner-v4-indexer
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: restricted-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: "8443"
        labels:
          app: scanner-v4-indexer
          app.kubernetes.io/component: scanner-v4
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
          podAntiAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app: scanner-v4-indexer
                topologyKey: kubernetes.io/hostname
              weight: 100
        containers:
        - command:
          - entrypoint.sh
          - --conf=/etc/scanner/config.yaml
          env:
          - name: ROX_MEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ROX_CENTRAL_ENDPOINT
            value: central.stackrox.svc:443
          - name: ROX_OPENSHIFT_API
            value: "true"
          - name: ROX_METRICS_PORT
            value: :9090
          - name: ROX_ENABLE_SECURE_METRICS
            value: "true"
          - name: ROX_SECURE_METRICS_PORT
            value: :9091
          image: quay.io/rhacs-eng/scanner-v4:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: indexer
          ports:
          - containerPort: 8443
            name: grpc
            protocol: TCP
          - containerPort: 9091
            name: monitoring-tls
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /health/readiness
              port: 9443
              scheme: HTTPS
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "4"
              memory: 3Gi
            requests:
              cpu: 1500m
              memory: 512Mi
          securityContext:
            capabilities:
              drop:
              - NET_RAW
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /usr/local/share/ca-certificates/
            name: additional-ca-volume
            readOnly: true
          - mountPath: /etc/ssl
            name: etc-ssl-volume
          - mountPath: /etc/pki/ca-trust
            name: etc-pki-volume
          - mountPath: /run/secrets/stackrox.io/certs/
            name: certs
            readOnly: true
          - mountPath: /etc/scanner
            name: config-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/proxy-config/
            name: proxy-config-volume
            readOnly: true
          - mountPath: /tmp
            name: tmp-volume
          - mountPath: /run/secrets/stackrox.io/secrets
            name: db-password
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/monitoring-tls
            name: monitoring-tls
            readOnly: true
          - mountPath: /etc/pki/injected-ca-trust/
            name: trusted-ca-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsNonRoot: true
        serviceAccount: scanner-v4
        serviceAccountName: scanner-v4
        terminationGracePeriodSeconds: 30
        volumes:
        - name: additional-ca-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: additional-ca
        - emptyDir: {}
          name: etc-ssl-volume
        - emptyDir: {}
          name: etc-pki-volume
        - name: certs
          secret:
            defaultMode: 420
            secretName: scanner-v4-indexer-tls
        - configMap:
            defaultMode: 420
            name: scanner-v4-indexer-config
          name: config-volume
        - name: proxy-config-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: proxy-config
        - emptyDir: {}
          name: tmp-volume
        - name: db-password
          secret:
            defaultMode: 420
            secretName: scanner-v4-db-password
        - name: monitoring-tls
          secret:
            defaultMode: 420
            secretName: scanner-v4-indexer-monitoring-tls
        - configMap:
            defaultMode: 420
            items:
            - key: ca-bundle.crt
              path: tls-ca-bundle.pem
            name: injected-cabundle-stackrox-central-services
            optional: true
          name: trusted-ca-volume
  status:
    availableReplicas: 2
    conditions:
    - lastTransitionTime: "2026-01-21T19:05:25Z"
      lastUpdateTime: "2026-01-21T19:05:25Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:49Z"
      lastUpdateTime: "2026-01-21T19:05:25Z"
      message: ReplicaSet "scanner-v4-indexer-787b4cbfd6" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 2
    readyReplicas: 2
    replicas: 2
    updatedReplicas: 2
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-central-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: scanner-v4-matcher
      app.kubernetes.io/component: scanner-v4
      app.kubernetes.io/instance: stackrox-central-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-central-services
      app.kubernetes.io/version: 4.9.2
      helm.sh/chart: stackrox-central-services-400.9.2
    name: scanner-v4-matcher
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 2
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: scanner-v4-matcher
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-central-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: restricted-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: "8443"
        labels:
          app: scanner-v4-matcher
          app.kubernetes.io/component: scanner-v4
          app.kubernetes.io/instance: stackrox-central-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-central-services
          app.kubernetes.io/version: 4.9.2
          helm.sh/chart: stackrox-central-services-400.9.2
        namespace: stackrox
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
          podAntiAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app: scanner-v4-matcher
                topologyKey: kubernetes.io/hostname
              weight: 100
        containers:
        - command:
          - entrypoint.sh
          - --conf=/etc/scanner/config.yaml
          env:
          - name: ROX_MEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: requests.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ROX_CENTRAL_ENDPOINT
            value: central.stackrox.svc:443
          - name: ROX_OPENSHIFT_API
            value: "true"
          - name: ROX_METRICS_PORT
            value: :9090
          - name: ROX_ENABLE_SECURE_METRICS
            value: "true"
          - name: ROX_SECURE_METRICS_PORT
            value: :9091
          image: quay.io/rhacs-eng/scanner-v4:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: matcher
          ports:
          - containerPort: 8443
            name: grpc
            protocol: TCP
          - containerPort: 9091
            name: monitoring-tls
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /health/readiness
              port: 9443
              scheme: HTTPS
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 3Gi
            requests:
              cpu: 500m
              memory: 1536Mi
          securityContext:
            capabilities:
              drop:
              - NET_RAW
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /usr/local/share/ca-certificates/
            name: additional-ca-volume
            readOnly: true
          - mountPath: /etc/ssl
            name: etc-ssl-volume
          - mountPath: /etc/pki/ca-trust
            name: etc-pki-volume
          - mountPath: /run/secrets/stackrox.io/certs/
            name: tls-volume
            readOnly: true
          - mountPath: /etc/scanner
            name: config-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/proxy-config/
            name: proxy-config-volume
            readOnly: true
          - mountPath: /tmp
            name: tmp-volume
          - mountPath: /run/secrets/stackrox.io/secrets
            name: db-password
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/monitoring-tls
            name: monitoring-tls
            readOnly: true
          - mountPath: /etc/pki/injected-ca-trust/
            name: trusted-ca-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsNonRoot: true
        serviceAccount: scanner-v4
        serviceAccountName: scanner-v4
        terminationGracePeriodSeconds: 30
        volumes:
        - name: additional-ca-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: additional-ca
        - emptyDir: {}
          name: etc-ssl-volume
        - emptyDir: {}
          name: etc-pki-volume
        - name: tls-volume
          secret:
            defaultMode: 420
            secretName: scanner-v4-matcher-tls
        - configMap:
            defaultMode: 420
            name: scanner-v4-matcher-config
          name: config-volume
        - name: proxy-config-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: proxy-config
        - emptyDir: {}
          name: tmp-volume
        - name: db-password
          secret:
            defaultMode: 420
            secretName: scanner-v4-db-password
        - name: monitoring-tls
          secret:
            defaultMode: 420
            secretName: scanner-v4-matcher-monitoring-tls
        - configMap:
            defaultMode: 420
            items:
            - key: ca-bundle.crt
              path: tls-ca-bundle.pem
            name: injected-cabundle-stackrox-central-services
            optional: true
          name: trusted-ca-volume
  status:
    availableReplicas: 2
    conditions:
    - lastTransitionTime: "2026-01-21T19:05:24Z"
      lastUpdateTime: "2026-01-21T19:05:24Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:04:48Z"
      lastUpdateTime: "2026-01-21T19:05:24Z"
      message: ReplicaSet "scanner-v4-matcher-6c64cdc486" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 2
    replicas: 2
    updatedReplicas: 2
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "2"
      email: support@stackrox.com
      meta.helm.sh/release-name: stackrox-secured-cluster-services
      meta.helm.sh/release-namespace: stackrox
      owner: stackrox
    labels:
      app: sensor
      app.kubernetes.io/component: sensor
      app.kubernetes.io/instance: stackrox-secured-cluster-services
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: stackrox
      app.kubernetes.io/part-of: stackrox-secured-cluster-services
      app.kubernetes.io/version: 4.10.x-851-ge00b4bc697
      auto-upgrade.stackrox.io/component: sensor
      helm.sh/chart: stackrox-secured-cluster-services-400.10.0-851-ge00b4bc697
    name: sensor
    namespace: stackrox
  spec:
    minReadySeconds: 15
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: sensor
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          email: support@stackrox.com
          meta.helm.sh/release-name: stackrox-secured-cluster-services
          meta.helm.sh/release-namespace: stackrox
          openshift.io/required-scc: restricted-v2
          owner: stackrox
          traffic.sidecar.istio.io/excludeInboundPorts: 8443,9443
        labels:
          app: sensor
          app.kubernetes.io/component: sensor
          app.kubernetes.io/instance: stackrox-secured-cluster-services
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: stackrox
          app.kubernetes.io/part-of: stackrox-secured-cluster-services
          app.kubernetes.io/version: 4.10.x-851-ge00b4bc697
          helm.sh/chart: stackrox-secured-cluster-services-400.10.0-851-ge00b4bc697
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: cloud.google.com/gke-preemptible
                  operator: NotIn
                  values:
                  - "true"
              weight: 100
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
              weight: 50
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/compute
                  operator: Exists
              weight: 25
            - preference:
                matchExpressions:
                - key: node-role.kubernetes.io/control-plane
                  operator: DoesNotExist
              weight: 100
        containers:
        - command:
          - kubernetes-sensor
          env:
          - name: ROX_MEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: K8S_NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: ROX_CENTRAL_ENDPOINT
            value: central.stackrox.svc:443
          - name: ROX_ADVERTISED_ENDPOINT
            value: sensor.stackrox.svc:443
          - name: GRPC_ENFORCE_ALPN_ENABLED
            value: "false"
          - name: ROX_OPENSHIFT_API
            value: "true"
          - name: ROX_SCANNER_GRPC_ENDPOINT
            value: scanner.stackrox.svc:8443
          - name: ROX_LOCAL_IMAGE_SCANNING_ENABLED
            value: "true"
          - name: ROX_HELM_CLUSTER_CONFIG_FP
            value: 1a2a3dfcbd3112f033879e71325f6e6d013c3dad802c0c4099ef49686b1d1abd
          - name: ROX_SCANNER_V4_INDEXER_ENDPOINT
            value: scanner-v4-indexer.stackrox.svc:8443
          - name: ROX_SCANNER_V4
            value: "true"
          - name: ROX_ENABLE_SECURE_METRICS
            value: "true"
          - name: ROX_VIRTUAL_MACHINES
            value: "true"
          image: quay.io/rhacs-eng/main:4.10.x-850-g437c6c281c
          imagePullPolicy: IfNotPresent
          name: sensor
          ports:
          - containerPort: 8443
            name: api
            protocol: TCP
          - containerPort: 9443
            name: webhook
            protocol: TCP
          - containerPort: 9091
            name: monitoring-tls
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 9443
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "4"
              memory: 8Gi
            requests:
              cpu: "2"
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/log/stackrox/
            name: varlog
          - mountPath: /etc/ssl/
            name: sensor-etc-ssl-volume
          - mountPath: /etc/pki/ca-trust/
            name: sensor-etc-pki-volume
          - mountPath: /run/secrets/stackrox.io/certs/
            name: certs
          - mountPath: /run/secrets/stackrox.io/certs-legacy/
            name: certs-legacy
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/certs-new/
            name: certs-new
            readOnly: true
          - mountPath: /usr/local/share/ca-certificates/
            name: additional-ca-volume
            readOnly: true
          - mountPath: /var/cache/stackrox
            name: cache
          - mountPath: /var/run/secrets/openshift/serviceaccount
            name: sensor-bound-sa-token
          - mountPath: /run/secrets/stackrox.io/helm-cluster-config/
            name: helm-cluster-config
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/helm-effective-cluster-name/
            name: helm-effective-cluster-name
            readOnly: true
          - mountPath: /etc/pki/injected-ca-trust/
            name: trusted-ca-volume
            readOnly: true
          - mountPath: /run/secrets/stackrox.io/monitoring-tls
            name: monitoring-tls
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sensor
        serviceAccountName: sensor
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: certs
        - name: certs-legacy
          secret:
            defaultMode: 420
            items:
            - key: sensor-cert.pem
              path: cert.pem
            - key: sensor-key.pem
              path: key.pem
            - key: ca.pem
              path: ca.pem
            optional: true
            secretName: sensor-tls
        - name: certs-new
          secret:
            defaultMode: 420
            optional: true
            secretName: tls-cert-sensor
        - emptyDir: {}
          name: sensor-etc-ssl-volume
        - emptyDir: {}
          name: sensor-etc-pki-volume
        - name: additional-ca-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: additional-ca-sensor
        - emptyDir: {}
          name: varlog
        - emptyDir: {}
          name: cache
        - name: sensor-bound-sa-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: openshift
                expirationSeconds: 3600
                path: token
        - name: helm-cluster-config
          secret:
            defaultMode: 420
            optional: true
            secretName: helm-cluster-config
        - name: helm-effective-cluster-name
          secret:
            defaultMode: 420
            optional: true
            secretName: helm-effective-cluster-name
        - configMap:
            defaultMode: 420
            items:
            - key: ca-bundle.crt
              path: tls-ca-bundle.pem
            name: injected-cabundle-stackrox-secured-cluster-services
            optional: true
          name: trusted-ca-volume
        - name: monitoring-tls
          secret:
            defaultMode: 420
            secretName: sensor-monitoring-tls
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2026-01-21T19:20:31Z"
      lastUpdateTime: "2026-01-21T19:20:31Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2026-01-21T19:16:50Z"
      lastUpdateTime: "2026-01-21T19:20:31Z"
      message: ReplicaSet "sensor-59d56956d7" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 2
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
kind: List
metadata:
